# CPU 100% 프로세스 어떻게 찾고 종료할까

# **⚡️ CPU 부하를 유발하는 테스트 프로세스 생성**

`yes` 명령어를 백그라운드에서 실행하여 의도적으로 CPU 사용량을 높입니다.

- **`yes`**: 'y' 문자열을 무한히 출력하는 명령어
- **`> /dev/null`**: 출력되는 모든 내용을 버려서 화면이 어지러워지는 것을 방지
- **`&`**: 프로세스를 백그라운드에서 실행

# **💡 이 명령은 CPU 성능 테스트나 부하 상황을 시뮬레이션할 때 유용합니다.**

---

# **📊 CPU 사용량 높은 순으로 프로세스 확인 (실시간)**

`top` 명령어로 시스템 상태를 실시간으로 보면서 CPU 사용량(`%CPU`)이 높은 순으로 정렬합니다.

- **`top`**: 시스템의 프로세스, CPU, 메모리 사용 현황을 실시간으로 보여줌
- **`o %CPU`**: CPU 사용량을 기준으로 정렬하여 표시 (`o`는 Override-Sort-Field)

# **💡 시스템이 느려졌을 때 어떤 프로세스가 문제인지 찾기 위해 가장 먼저 사용하는 명령어 중 하나입니다. `q`를 눌러 종료합니다.**

---

# **📋 CPU 사용량 높은 순으로 프로세스 목록 확인 (순간)**

`ps` 명령어로 현재 시점의 프로세스 정보를 CPU 사용량 순으로 정렬하여 상위 몇 개만 봅니다.

- **`ps -eo ...`**: 사용자가 지정한 형식(`o`)으로 모든 프로세스(`e`) 정보를 출력
- **`pid,cmd,%cpu`**: 프로세스 ID, 명령어, CPU 사용률 등 보고 싶은 정보
- **`-sort=-%cpu`**: CPU 사용량을 기준으로 내림차순 정렬 (가 내림차순)
- **`| head`**: 결과를 상위 10개 라인만 보여줌

# **💡 `top`과 달리 특정 순간의 스냅샷을 보거나, 스크립트에서 활용하기 좋습니다.**

---

# **🛑 프로세스 안전하게 종료하기**

`pidof`로 'yes' 프로세스의 PID를 찾아 `kill` 명령어로 종료 신호(기본값: SIGTERM)를 보냅니다.

- **`sudo`**: `kill` 명령을 관리자 권한으로 실행
- **`kill`**: 프로세스에 특정 신호를 보내 제어하는 명령어
- **`$(pidof yes)`**: `pidof yes` 명령어의 실행 결과를 이 위치에 삽입 (PID)

# **💡 `kill`은 프로세스가 하던 일을 정리하고 종료할 시간을 주는 '안전한' 종료 방식입니다.**

---

# **📈 시스템 부하 상태 모니터링**

`vmstat`으로 1초 간격으로 5번 시스템의 가상 메모리 및 CPU 상태를 확인합니다.

- **`vmstat`**: 시스템의 메모리, 스왑, I/O, CPU 활동에 대한 통계를 보여줌
- **`1 5`**: 1초(interval) 간격으로 5번(count) 출력

# **💡 `us`(user), `sy`(system) CPU 사용량과 `wa`(I/O wait) 값을 통해 시스템 병목 현상을 진단할 수 있습니다.**